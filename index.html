<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Login</title>
<style>
body{font-family:Arial;background:#f4f6f8;display:flex;justify-content:center;align-items:center;height:100vh}
.box{background:#fff;padding:30px;width:300px}
input,button{width:100%;padding:10px;margin-top:10px}
button{background:#0097CE;color:#fff;border:none}
</style>
</head>
<body>
<div class="box">
<h2>Login</h2>
<input id="usuario" placeholder="Usuário">
<input id="senha" type="password" placeholder="Senha">
<button onclick="login()">Entrar</button>
<p id="erro" style="color:red"></p>
</div>
<script>
async function login(){
  const usuario=document.getElementById("usuario").value;
  const senha=document.getElementById("senha").value;

  const res = await fetch("/login",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({usuario,senha})
  });

  if(!res.ok){
    document.getElementById("erro").innerText="Login inválido";
    return;
  }

  const d = await res.json();
  localStorage.token = d.token;
  location.href="/app";
}
</script>
</body>
</html>
